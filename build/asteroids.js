!function(t){function e(r){if(i[r])return i[r].exports;var o=i[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";var r=i(1),o=i(2),n=i(8),s=i(10),h="start",a=new o.StartState,c=new n.GameState,u=function(){function t(){}return t.prototype.update=function(t){switch(h){case"start":a.update(t),s.Key.isDown(s.Key.ONE)&&(h="game");break;case"game":c.update(t)}},t.prototype.render=function(t){switch(h){case"start":a.render(t);break;case"game":c.render(t)}},t}();e.Asteroids=u;var p=new u;setTimeout(function(){r.loop(p)},1e3)},function(t,e){"use strict";var i,r=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},o=0,n=r(),s=1/60,h=function(t){var e=function(){for(i=r(),o+=Math.min(1,(i-n)/1e3);o>s;)o-=s,t.update(s);t.render(o),n=i,requestAnimationFrame(e)};e()};e.loop=function(t){h(t)}},function(t,e,i){"use strict";var r=i(3),o=i(5),n=i(12),s=function(){function t(){this.blink=0,this.showPushStart=!0,this.modeTimer=0,this.demo=!1,this.highscore=o.highscores.length?o.highscores[0].score:0;var t=n.RockFactory.create(20,r.default.height-40,n.RockSize.Large);t.vx=1,t.vy=-1;var e=n.RockFactory.create(r.default.width-40,40,n.RockSize.Large);e.vx=-1,e.vy=1;var i=n.RockFactory.create(r.default.width-80,r.default.height-80,n.RockSize.Large);i.vx=.5,i.vy=-1;var s=n.RockFactory.create(r.default.width-80,r.default.height-120,n.RockSize.Large);s.vx=-.5,s.vy=1.5,this.rocks=[t,e,i,s]}return t.prototype.update=function(t){this.modeTimer+=t,this.modeTimer>=15&&(this.modeTimer=0,this.demo=!this.demo),this.blink+=t,this.blink>=.4&&(this.blink=0,this.showPushStart=!this.showPushStart),this.updateDemo(t)},t.prototype.render=function(t){this.demo?this.renderDemo():this.renderStart()},t.prototype.renderStart=function(){this.drawBackground(),this.drawPushStart(),this.drawHighScores()},t.prototype.updateDemo=function(t){this.rocks.forEach(function(e){e.update(t)})},t.prototype.renderDemo=function(){this.drawBackground(),this.drawPushStart(),this.rocks.forEach(function(t){t.render()})},t.prototype.drawBackground=function(){r.default.draw.background(),r.default.draw.scorePlayer1(0),r.default.draw.highscore(this.highscore),r.default.draw.copyright()},t.prototype.drawHighScores=function(){var t=r.default.width/2;r.default.draw.text2("high scores","30pt",function(e){return{x:t-e/2,y:200}});for(var e=function(e){var n=280+40*e,s=i.pad(e+1," ",3)+". "+i.pad(o.highscores[e].score," ",6)+" "+o.highscores[e].initials;r.default.draw.text2(s,"30pt",function(e){return{x:t-e/2,y:n}})},i=this,n=0;n<o.highscores.length;n++)e(n)},t.prototype.drawPushStart=function(){var t=r.default.width/2;this.showPushStart&&r.default.draw.text2("push start","30pt",function(e){return{x:t-e/2,y:120}})},t.prototype.pad=function(t,e,i){for(t=t.toString();t.length<i;)t=e+t;return t},t}();e.StartState=s},function(t,e,i){"use strict";var r=i(4),o=function(){function t(){var t=this;this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d"),this.draw=new r.Draw(this.ctx),this.init(),window.addEventListener("resize",function(){t.init()})}return t.prototype.init=function(){this.canvas.width=document.body.clientWidth,this.canvas.height=document.body.clientHeight,this.width=this.canvas.width,this.height=this.canvas.height},t}();e.Screen=o,Object.defineProperty(e,"__esModule",{value:!0}),e.default=new o},function(t,e,i){"use strict";var r=i(3),o="rgba(255,255,255,.8)",n=function(){function t(t){this.ctx=t}return t.prototype.line=function(t,e,i,r){void 0===r&&(r=2);var o=this.ctx;o.beginPath(),o.strokeStyle=i,o.lineWidth=r,o.moveTo(t.x,t.y),o.lineTo(e.x,e.y),o.stroke(),o.closePath()},t.prototype.shape=function(t,e,i,r){void 0===r&&(r=o);for(var n,s,h=0;h<t.length-1;h++)n={x:e+t[h].x,y:i+t[h].y},s={x:e+t[h+1].x,y:i+t[h+1].y},this.line(n,s,r,2)},t.prototype.rect=function(t,e,i){var r=this.ctx;r.beginPath(),r.fillStyle=i,r.fillRect(t.x,t.y,e.x,e.y),r.stroke(),r.closePath()},t.prototype.point=function(t,e){void 0===e&&(e=o),this.rect(t,{x:4,y:4},e)},t.prototype.background=function(){this.rect({x:0,y:0},{x:r.default.width,y:r.default.height},"#000000")},t.prototype.text=function(t,e,i,r){var n=this.ctx;n.save(),n.font=r+" hyperspace",n.textBaseline="middle",n.lineWidth=1,n.strokeStyle=o,n.strokeText(t,e,i),n.restore()},t.prototype.text2=function(t,e,i){var r=this.ctx;r.save(),r.font=e+" hyperspace",r.textBaseline="middle",r.lineWidth=1,r.strokeStyle=o;var n=r.measureText(t).width,s=i(n);r.strokeText(t,s.x,s.y),r.restore()},t.prototype.scorePlayer1=function(t){for(var e=t.toString();e.length<2;)e="0"+e;this.text(e,100,20,"24pt")},t.prototype.highscore=function(t){for(var e=t.toString();e.length<2;)e="0"+e;this.text2(e,"12pt",function(t){return{x:r.default.width/2-t/2,y:20}})},t.prototype.copyright=function(){this.text2(String.fromCharCode(169)+" 1979 Atari INC","12pt",function(t){return{x:r.default.width/2-t/2,y:r.default.height-20}})},t}();e.Draw=n},function(t,e){"use strict";e.highscores=[{score:20140,initials:"J H"},{score:20050,initials:"O A"},{score:19930,initials:"N M"},{score:19870,initials:"  I"},{score:19840,initials:"P L"},{score:19790,initials:"A T"},{score:19700,initials:"U O"},{score:19660,initials:"L N"},{score:190,initials:"GAM"},{score:70,initials:"ES "}]},function(t,e,i){"use strict";var r=i(7),o=function(){function t(t,e){this.angle=360,this.vx=0,this.vy=0,this.x=t,this.y=e}return t.prototype.rotate=function(t){this.angle+=t,this.angle<1&&(this.angle+=360),this.angle>360&&(this.angle-=360);var e=r.COS[t],i=r.SIN[t],o=this.geometry;o.forEach(function(t){var r=e*t.x-i*t.y,o=i*t.x+e*t.y;t.x=r,t.y=o})},t.prototype.move=function(){this.x+=this.vx,this.y+=this.vy,this.x>screen.width&&(this.x-=screen.width),this.x<0&&(this.x+=screen.width),this.y>screen.height&&(this.y-=screen.height),this.y<0&&(this.y+=screen.height)},t.prototype.scale=function(t){var e=this.geometry;e.forEach(function(e){e.x*=t,e.y*=t})},Object.defineProperty(t.prototype,"speed",{get:function(){return Math.sqrt(Math.pow(this.vx,2)+Math.pow(this.vy,2))},enumerable:!0,configurable:!0}),t}();e.Object2D=o},function(t,e){"use strict";var i={};e.RAD=i;var r={};e.COS=r;var o={};e.SIN=o;for(var n=Math.PI/180,s=1;s<=360;s++)i[s]=s*n,r[s]=Math.cos(i[s]),o[s]=Math.sin(i[s]),i[-s]=-s*n,r[-s]=Math.cos(i[-s]),o[-s]=Math.sin(i[-s])},function(t,e,i){"use strict";var r=i(9),o=i(11),n=i(10),s=i(3),h=i(5),a=function(){function t(){this.level=1,this.score=0,this.lives=3,this.bullets=[],this.extraLives=[],this.bulletTimer=0,this.ship=new r.Ship(s.default.width/2,s.default.height/2);for(var t=0;t<this.lives;t++){var e=new r.Ship(80+20*t,55);this.extraLives.push(e)}this.highscore=h.highscores.length?h.highscores[0].score:0}return t.prototype.update=function(t){this.ship.update(t);for(var e=0;e<this.bullets.length;e++)this.bullets[e].update(t);this.bullets=this.bullets.filter(function(t){return t.life>0}),this.bulletTimer>0&&(this.bulletTimer-=t),n.Key.isDown(n.Key.CTRL)&&this.bulletTimer<=0&&(this.bulletTimer=.3,this.bullet())},t.prototype.render=function(t){s.default.draw.background(),s.default.draw.copyright(),s.default.draw.scorePlayer1(this.score),s.default.draw.highscore(this.highscore),this.drawExtraLives(),this.ship.render(t);for(var e=0;e<this.bullets.length;e++)this.bullets[e].render()},t.prototype.bullet=function(){this.bullets.length<4&&this.bullets.push(new o.Bullet(this.ship))},t.prototype.drawExtraLives=function(){for(var t=Math.min(this.lives,10),e=0;e<t;e++){var i=this.extraLives[e];i.render(0)}},t}();e.GameState=a},function(t,e,i){"use strict";var r=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=i(10),n=i(3),s=i(6),h=.2,a=.007,c=5,u=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.moving=!1,r.angle=360,r.color="rgba(255,255,255,.8)",r.points=[{x:0,y:-15},{x:10,y:10},{x:5,y:5},{x:-5,y:5},{x:-10,y:10},{x:0,y:-15}],r.flame=[{x:5,y:8},{x:0,y:20},{x:-5,y:8}],r}return r(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this.points.concat(this.flame)},enumerable:!0,configurable:!0}),e.prototype.render=function(){n.default.draw.shape(this.points,this.x,this.y,this.color),this.moving&&(Math.floor(10*Math.random())+1)%2===0&&n.default.draw.shape(this.flame,this.x,this.y,this.color)},e.prototype.update=function(t){this.move(),o.Key.isDown(o.Key.UP)?(this.moving=!0,this.thrust()):this.moving=!1,o.Key.isDown(o.Key.LEFT)&&this.rotate(-c),o.Key.isDown(o.Key.RIGHT)&&this.rotate(c),this.vx-=this.vx*a,this.vy-=this.vy*a},e.prototype.thrust=function(){var t=2*Math.PI*(this.angle/360),e=Math.sin(t),i=Math.cos(t);this.vx+=e*h,this.vy-=i*h},e}(s.Object2D);e.Ship=u},function(t,e){"use strict";e.Key={_pressed:{},LEFT:37,UP:38,RIGHT:39,SHIFT:16,CTRL:17,ONE:49,isDown:function(t){return this._pressed[t]},onKeydown:function(t){this._pressed[t.keyCode]=!0},onKeyup:function(t){delete this._pressed[t.keyCode]}},window.addEventListener("keyup",function(t){e.Key.onKeyup(t)},!1),window.addEventListener("keydown",function(t){e.Key.onKeydown(t)},!1)},function(t,e,i){"use strict";var r=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=i(3),n=i(7),s=i(6),h=10,a=function(t){function e(e){var i=t.call(this,e.x,e.y)||this;i.ship=e,i.life=1.25,i.visible=!0;var r=e.angle;i.vx=n.SIN[r],i.vy=-n.COS[r],i.x+=20*i.vx,i.y+=20*i.vy;var o=0,s=e.vx*i.vx+e.vy*i.vy;return s>0&&(o=e.speed),i.vx*=h+o,i.vy*=h+o,i}return r(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return[{x:this.x,y:this.y}]},enumerable:!0,configurable:!0}),e.prototype.render=function(){this.visible&&o.default.draw.point({x:this.x,y:this.y})},e.prototype.update=function(t){this.move(),this.life-=t,this.life<=0&&(this.visible=!1)},Object.defineProperty(e.prototype,"speed",{get:function(){return Math.sqrt(Math.pow(this.vx,2)+Math.pow(this.vy,2))},enumerable:!0,configurable:!0}),e}(s.Object2D);e.Bullet=a},function(t,e,i){"use strict";var r=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=i(6),n=i(3),s=[[.5,-2],[2,-1],[2,-.7],[1.2,0],[2,1],[1,2],[.5,1.5],[-1,2],[-2,.7],[-2,-1],[-.5,-1],[-1,-2],[.5,-2]],h=[[0,-1.5],[1,-2],[2,-1],[1,-.5],[2,.5],[1,2],[-.5,1.5],[-1,2],[-2,1],[-1.5,0],[-2,-1],[-1,-2],[0,-1.5]],a=[[0,-1],[1,-2],[2,-1],[1.5,0],[2,1],[1,2],[-1,2],[-2,1],[-2,-1],[-1,-2],[0,-1]],c=[s,h,a];!function(t){t[t.Small=5]="Small",t[t.Medium=10]="Medium",t[t.Large=20]="Large"}(e.RockSize||(e.RockSize={}));var u=(e.RockSize,function(){function t(){}return t.prototype.create=function(t,e,i){var r=Math.floor(3*Math.random()),o=c[r],n=new p(t,e,i);n.points=o.map(function(t){return{x:t[0]*i,y:t[1]*i}});var s=Math.floor(90*Math.random())+1;return n.rotate(s),n},t}());e._RockFactory=u,e.RockFactory=new u;var p=function(t){function e(e,i,r){void 0===r&&(r=1);var o=t.call(this,e,i)||this;return o.rotTimer=0,o.rot=Math.floor(2*Math.random())+1,o.rot=o.rot%2===0?o.rot:-o.rot,o}return r(e,t),e.prototype.update=function(t){this.rotTimer+=1,this.move(),5===this.rotTimer&&(this.rotate(this.rot),this.rotTimer=0)},e.prototype.render=function(){n.default.draw.shape(this.points,this.x,this.y)},Object.defineProperty(e.prototype,"geometry",{get:function(){return this.points},enumerable:!0,configurable:!0}),e}(o.Object2D);e.Rock=p}]);